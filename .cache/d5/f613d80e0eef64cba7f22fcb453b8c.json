{"id":"epB2","dependencies":[{"name":"/Users/liuzhaofeng/codes/Demos/drawingBoard/package.json","includedInParent":true,"mtime":1562143207142}],"generated":{"js":"var e=console.log.bind(console),t=function(e){return document.querySelector(e)},n=t(\"#canvas\"),i=n.getContext(\"2d\"),c=!1,o=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;n.width=e,n.height=t},a=function(){o(),window.addEventListener(\"resize\",function(){o()})},r=function(e,t,n){i.beginPath(),i.arc(e,t,n,0,2*Math.PI,!1),i.fill()},s=function(e,t,n,c){i.lineWidth=5,i.beginPath(),i.moveTo(e,t),i.lineTo(n,c),i.stroke(),i.closePath()},d=function(){var e=!1,t={x:void 0,y:void 0};n.addEventListener(\"mousedown\",function(n){e=!0;var o=n.clientX,a=n.clientY;t.x=o,t.y=a;c?i.clearRect(o-5,a-5,10,10):r(o,a,2)}),n.addEventListener(\"mousemove\",function(n){if(!0===e){var o=n.clientX,a=n.clientY;if(c)i.clearRect(o-5,a-5,10,10);else{var d={x:o,y:a};s(t.x,t.y,d.x,d.y),t=d;r(o,a,2)}}}),n.addEventListener(\"mouseup\",function(t){e=!1})},l=function(){var n=t(\".eraser\"),i=t(\".brush\");n.addEventListener(\"click\",function(){e(\"eraser clicked\"),e(\"eraser\",c=!c);var n=t(\".active\");n&&n.classList.remove(\"active\"),i.classList.add(\"active\")}),i.addEventListener(\"click\",function(){c=!c;var e=t(\".active\");e&&e.classList.remove(\"active\"),n.classList.add(\"active\")})},v=function(e){i.strokeStyle=e,i.fillStyle=e},u=function(){a(),v(\"red\"),d(),l()};u();"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","name":"log","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"main.js","name":"console","original":{"line":1,"column":12},"generated":{"line":1,"column":6}},{"source":"main.js","name":"log","original":{"line":1,"column":20},"generated":{"line":1,"column":14}},{"source":"main.js","name":"bind","original":{"line":1,"column":24},"generated":{"line":1,"column":18}},{"source":"main.js","name":"console","original":{"line":1,"column":29},"generated":{"line":1,"column":23}},{"source":"main.js","name":"e","original":{"line":3,"column":6},"generated":{"line":1,"column":32}},{"source":"main.js","original":{"line":3,"column":10},"generated":{"line":1,"column":34}},{"source":"main.js","name":"selector","original":{"line":3,"column":10},"generated":{"line":1,"column":43}},{"source":"main.js","name":"document","original":{"line":3,"column":22},"generated":{"line":1,"column":46}},{"source":"main.js","name":"document","original":{"line":3,"column":22},"generated":{"line":1,"column":53}},{"source":"main.js","name":"querySelector","original":{"line":3,"column":31},"generated":{"line":1,"column":62}},{"source":"main.js","name":"selector","original":{"line":3,"column":45},"generated":{"line":1,"column":76}},{"source":"main.js","name":"canvas","original":{"line":4,"column":6},"generated":{"line":1,"column":80}},{"source":"main.js","name":"e","original":{"line":4,"column":15},"generated":{"line":1,"column":82}},{"source":"main.js","original":{"line":4,"column":17},"generated":{"line":1,"column":84}},{"source":"main.js","name":"ctx","original":{"line":5,"column":6},"generated":{"line":1,"column":95}},{"source":"main.js","name":"canvas","original":{"line":5,"column":12},"generated":{"line":1,"column":97}},{"source":"main.js","name":"getContext","original":{"line":5,"column":19},"generated":{"line":1,"column":99}},{"source":"main.js","original":{"line":5,"column":30},"generated":{"line":1,"column":110}},{"source":"main.js","name":"eraserEnabled","original":{"line":6,"column":4},"generated":{"line":1,"column":116}},{"source":"main.js","original":{"line":6,"column":20},"generated":{"line":1,"column":119}},{"source":"main.js","name":"setCanvasSize","original":{"line":8,"column":6},"generated":{"line":1,"column":121}},{"source":"main.js","original":{"line":8,"column":22},"generated":{"line":1,"column":123}},{"source":"main.js","name":"pageWidth","original":{"line":9,"column":8},"generated":{"line":1,"column":134}},{"source":"main.js","name":"pageWidth","original":{"line":9,"column":8},"generated":{"line":1,"column":138}},{"source":"main.js","name":"document","original":{"line":9,"column":20},"generated":{"line":1,"column":140}},{"source":"main.js","name":"documentElement","original":{"line":9,"column":29},"generated":{"line":1,"column":149}},{"source":"main.js","name":"clientWidth","original":{"line":9,"column":45},"generated":{"line":1,"column":165}},{"source":"main.js","name":"pageHeight","original":{"line":10,"column":8},"generated":{"line":1,"column":177}},{"source":"main.js","name":"document","original":{"line":10,"column":21},"generated":{"line":1,"column":179}},{"source":"main.js","name":"documentElement","original":{"line":10,"column":30},"generated":{"line":1,"column":188}},{"source":"main.js","name":"clientHeight","original":{"line":10,"column":46},"generated":{"line":1,"column":204}},{"source":"main.js","name":"canvas","original":{"line":11,"column":2},"generated":{"line":1,"column":217}},{"source":"main.js","name":"width","original":{"line":11,"column":9},"generated":{"line":1,"column":219}},{"source":"main.js","name":"pageWidth","original":{"line":11,"column":17},"generated":{"line":1,"column":225}},{"source":"main.js","name":"canvas","original":{"line":12,"column":2},"generated":{"line":1,"column":227}},{"source":"main.js","name":"height","original":{"line":12,"column":9},"generated":{"line":1,"column":229}},{"source":"main.js","name":"pageHeight","original":{"line":12,"column":18},"generated":{"line":1,"column":236}},{"source":"main.js","name":"autoCanvasSize","original":{"line":15,"column":6},"generated":{"line":1,"column":239}},{"source":"main.js","original":{"line":15,"column":23},"generated":{"line":1,"column":241}},{"source":"main.js","name":"setCanvasSize","original":{"line":16,"column":2},"generated":{"line":1,"column":252}},{"source":"main.js","name":"window","original":{"line":17,"column":2},"generated":{"line":1,"column":256}},{"source":"main.js","name":"addEventListener","original":{"line":17,"column":9},"generated":{"line":1,"column":263}},{"source":"main.js","original":{"line":17,"column":26},"generated":{"line":1,"column":280}},{"source":"main.js","original":{"line":17,"column":36},"generated":{"line":1,"column":289}},{"source":"main.js","name":"setCanvasSize","original":{"line":18,"column":4},"generated":{"line":1,"column":300}},{"source":"main.js","name":"drawCircle","original":{"line":22,"column":6},"generated":{"line":1,"column":307}},{"source":"main.js","original":{"line":22,"column":19},"generated":{"line":1,"column":309}},{"source":"main.js","name":"x","original":{"line":22,"column":20},"generated":{"line":1,"column":318}},{"source":"main.js","name":"y","original":{"line":22,"column":23},"generated":{"line":1,"column":320}},{"source":"main.js","name":"radius","original":{"line":22,"column":26},"generated":{"line":1,"column":322}},{"source":"main.js","name":"ctx","original":{"line":23,"column":2},"generated":{"line":1,"column":325}},{"source":"main.js","name":"beginPath","original":{"line":23,"column":6},"generated":{"line":1,"column":327}},{"source":"main.js","name":"ctx","original":{"line":24,"column":2},"generated":{"line":1,"column":339}},{"source":"main.js","name":"arc","original":{"line":24,"column":6},"generated":{"line":1,"column":341}},{"source":"main.js","name":"x","original":{"line":24,"column":10},"generated":{"line":1,"column":345}},{"source":"main.js","name":"y","original":{"line":24,"column":13},"generated":{"line":1,"column":347}},{"source":"main.js","name":"radius","original":{"line":24,"column":16},"generated":{"line":1,"column":349}},{"source":"main.js","original":{"line":24,"column":24},"generated":{"line":1,"column":351}},{"source":"main.js","original":{"line":24,"column":37},"generated":{"line":1,"column":353}},{"source":"main.js","name":"Math","original":{"line":24,"column":27},"generated":{"line":1,"column":355}},{"source":"main.js","name":"PI","original":{"line":24,"column":32},"generated":{"line":1,"column":360}},{"source":"main.js","original":{"line":24,"column":40},"generated":{"line":1,"column":364}},{"source":"main.js","name":"ctx","original":{"line":25,"column":2},"generated":{"line":1,"column":367}},{"source":"main.js","name":"fill","original":{"line":25,"column":6},"generated":{"line":1,"column":369}},{"source":"main.js","name":"drawLine","original":{"line":28,"column":6},"generated":{"line":1,"column":377}},{"source":"main.js","original":{"line":28,"column":17},"generated":{"line":1,"column":379}},{"source":"main.js","name":"x1","original":{"line":28,"column":18},"generated":{"line":1,"column":388}},{"source":"main.js","name":"y1","original":{"line":28,"column":22},"generated":{"line":1,"column":390}},{"source":"main.js","name":"x2","original":{"line":28,"column":26},"generated":{"line":1,"column":392}},{"source":"main.js","name":"y2","original":{"line":28,"column":30},"generated":{"line":1,"column":394}},{"source":"main.js","name":"ctx","original":{"line":29,"column":2},"generated":{"line":1,"column":397}},{"source":"main.js","name":"lineWidth","original":{"line":29,"column":6},"generated":{"line":1,"column":399}},{"source":"main.js","original":{"line":29,"column":18},"generated":{"line":1,"column":409}},{"source":"main.js","name":"ctx","original":{"line":30,"column":2},"generated":{"line":1,"column":411}},{"source":"main.js","name":"beginPath","original":{"line":30,"column":6},"generated":{"line":1,"column":413}},{"source":"main.js","name":"ctx","original":{"line":31,"column":2},"generated":{"line":1,"column":425}},{"source":"main.js","name":"moveTo","original":{"line":31,"column":6},"generated":{"line":1,"column":427}},{"source":"main.js","name":"x1","original":{"line":31,"column":13},"generated":{"line":1,"column":434}},{"source":"main.js","name":"y1","original":{"line":31,"column":17},"generated":{"line":1,"column":436}},{"source":"main.js","name":"ctx","original":{"line":32,"column":2},"generated":{"line":1,"column":439}},{"source":"main.js","name":"lineTo","original":{"line":32,"column":6},"generated":{"line":1,"column":441}},{"source":"main.js","name":"x2","original":{"line":32,"column":13},"generated":{"line":1,"column":448}},{"source":"main.js","name":"y2","original":{"line":32,"column":17},"generated":{"line":1,"column":450}},{"source":"main.js","name":"ctx","original":{"line":33,"column":2},"generated":{"line":1,"column":453}},{"source":"main.js","name":"stroke","original":{"line":33,"column":6},"generated":{"line":1,"column":455}},{"source":"main.js","name":"ctx","original":{"line":34,"column":2},"generated":{"line":1,"column":464}},{"source":"main.js","name":"closePath","original":{"line":34,"column":6},"generated":{"line":1,"column":466}},{"source":"main.js","name":"listenToMouse","original":{"line":37,"column":6},"generated":{"line":1,"column":479}},{"source":"main.js","original":{"line":37,"column":22},"generated":{"line":1,"column":481}},{"source":"main.js","name":"drawing","original":{"line":38,"column":6},"generated":{"line":1,"column":492}},{"source":"main.js","name":"drawing","original":{"line":38,"column":6},"generated":{"line":1,"column":496}},{"source":"main.js","original":{"line":38,"column":16},"generated":{"line":1,"column":499}},{"source":"main.js","name":"lastPoint","original":{"line":39,"column":6},"generated":{"line":1,"column":501}},{"source":"main.js","original":{"line":39,"column":18},"generated":{"line":1,"column":503}},{"source":"main.js","name":"x","original":{"line":40,"column":4},"generated":{"line":1,"column":504}},{"source":"main.js","name":"undefined","original":{"line":40,"column":7},"generated":{"line":1,"column":511}},{"source":"main.js","name":"y","original":{"line":41,"column":4},"generated":{"line":1,"column":513}},{"source":"main.js","name":"undefined","original":{"line":41,"column":7},"generated":{"line":1,"column":520}},{"source":"main.js","name":"canvas","original":{"line":43,"column":2},"generated":{"line":1,"column":523}},{"source":"main.js","name":"addEventListener","original":{"line":43,"column":9},"generated":{"line":1,"column":525}},{"source":"main.js","original":{"line":43,"column":26},"generated":{"line":1,"column":542}},{"source":"main.js","original":{"line":43,"column":39},"generated":{"line":1,"column":554}},{"source":"main.js","name":"e","original":{"line":43,"column":39},"generated":{"line":1,"column":563}},{"source":"main.js","name":"drawing","original":{"line":44,"column":4},"generated":{"line":1,"column":566}},{"source":"main.js","original":{"line":44,"column":14},"generated":{"line":1,"column":569}},{"source":"main.js","name":"x","original":{"line":45,"column":10},"generated":{"line":1,"column":571}},{"source":"main.js","name":"x","original":{"line":45,"column":10},"generated":{"line":1,"column":575}},{"source":"main.js","name":"e","original":{"line":45,"column":14},"generated":{"line":1,"column":577}},{"source":"main.js","name":"clientX","original":{"line":45,"column":16},"generated":{"line":1,"column":579}},{"source":"main.js","name":"y","original":{"line":46,"column":10},"generated":{"line":1,"column":587}},{"source":"main.js","name":"e","original":{"line":46,"column":14},"generated":{"line":1,"column":589}},{"source":"main.js","name":"clientY","original":{"line":46,"column":16},"generated":{"line":1,"column":591}},{"source":"main.js","name":"lastPoint","original":{"line":47,"column":4},"generated":{"line":1,"column":599}},{"source":"main.js","name":"x","original":{"line":47,"column":14},"generated":{"line":1,"column":601}},{"source":"main.js","name":"x","original":{"line":47,"column":18},"generated":{"line":1,"column":603}},{"source":"main.js","name":"lastPoint","original":{"line":48,"column":4},"generated":{"line":1,"column":605}},{"source":"main.js","name":"y","original":{"line":48,"column":14},"generated":{"line":1,"column":607}},{"source":"main.js","name":"y","original":{"line":48,"column":18},"generated":{"line":1,"column":609}},{"source":"main.js","name":"eraserEnabled","original":{"line":50,"column":8},"generated":{"line":1,"column":611}},{"source":"main.js","name":"ctx","original":{"line":51,"column":6},"generated":{"line":1,"column":613}},{"source":"main.js","name":"clearRect","original":{"line":51,"column":10},"generated":{"line":1,"column":615}},{"source":"main.js","name":"x","original":{"line":51,"column":20},"generated":{"line":1,"column":625}},{"source":"main.js","original":{"line":51,"column":24},"generated":{"line":1,"column":627}},{"source":"main.js","name":"y","original":{"line":51,"column":27},"generated":{"line":1,"column":629}},{"source":"main.js","original":{"line":51,"column":31},"generated":{"line":1,"column":631}},{"source":"main.js","original":{"line":51,"column":34},"generated":{"line":1,"column":633}},{"source":"main.js","original":{"line":51,"column":38},"generated":{"line":1,"column":636}},{"source":"main.js","name":"drawCircle","original":{"line":53,"column":6},"generated":{"line":1,"column":640}},{"source":"main.js","name":"x","original":{"line":53,"column":17},"generated":{"line":1,"column":642}},{"source":"main.js","name":"y","original":{"line":53,"column":20},"generated":{"line":1,"column":644}},{"source":"main.js","original":{"line":49,"column":19},"generated":{"line":1,"column":646}},{"source":"main.js","name":"canvas","original":{"line":56,"column":2},"generated":{"line":1,"column":651}},{"source":"main.js","name":"addEventListener","original":{"line":56,"column":9},"generated":{"line":1,"column":653}},{"source":"main.js","original":{"line":56,"column":26},"generated":{"line":1,"column":670}},{"source":"main.js","original":{"line":56,"column":39},"generated":{"line":1,"column":682}},{"source":"main.js","name":"e","original":{"line":56,"column":39},"generated":{"line":1,"column":691}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":694}},{"source":"main.js","original":{"line":57,"column":20},"generated":{"line":1,"column":698}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":702}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":704}},{"source":"main.js","name":"x","original":{"line":60,"column":10},"generated":{"line":1,"column":705}},{"source":"main.js","name":"x","original":{"line":60,"column":10},"generated":{"line":1,"column":709}},{"source":"main.js","name":"e","original":{"line":60,"column":14},"generated":{"line":1,"column":711}},{"source":"main.js","name":"clientX","original":{"line":60,"column":16},"generated":{"line":1,"column":713}},{"source":"main.js","name":"y","original":{"line":61,"column":10},"generated":{"line":1,"column":721}},{"source":"main.js","name":"e","original":{"line":61,"column":14},"generated":{"line":1,"column":723}},{"source":"main.js","name":"clientY","original":{"line":61,"column":16},"generated":{"line":1,"column":725}},{"source":"main.js","name":"eraserEnabled","original":{"line":62,"column":8},"generated":{"line":1,"column":733}},{"source":"main.js","name":"eraserEnabled","original":{"line":62,"column":8},"generated":{"line":1,"column":736}},{"source":"main.js","name":"ctx","original":{"line":63,"column":6},"generated":{"line":1,"column":738}},{"source":"main.js","name":"clearRect","original":{"line":63,"column":10},"generated":{"line":1,"column":740}},{"source":"main.js","name":"x","original":{"line":63,"column":20},"generated":{"line":1,"column":750}},{"source":"main.js","original":{"line":63,"column":24},"generated":{"line":1,"column":752}},{"source":"main.js","name":"y","original":{"line":63,"column":27},"generated":{"line":1,"column":754}},{"source":"main.js","original":{"line":63,"column":31},"generated":{"line":1,"column":756}},{"source":"main.js","original":{"line":63,"column":34},"generated":{"line":1,"column":758}},{"source":"main.js","original":{"line":63,"column":38},"generated":{"line":1,"column":761}},{"source":"main.js","original":{"line":64,"column":11},"generated":{"line":1,"column":769}},{"source":"main.js","name":"newPoint","original":{"line":65,"column":12},"generated":{"line":1,"column":770}},{"source":"main.js","name":"newPoint","original":{"line":65,"column":12},"generated":{"line":1,"column":774}},{"source":"main.js","original":{"line":65,"column":23},"generated":{"line":1,"column":776}},{"source":"main.js","name":"x","original":{"line":65,"column":25},"generated":{"line":1,"column":777}},{"source":"main.js","name":"x","original":{"line":65,"column":25},"generated":{"line":1,"column":779}},{"source":"main.js","name":"y","original":{"line":65,"column":28},"generated":{"line":1,"column":781}},{"source":"main.js","name":"y","original":{"line":65,"column":28},"generated":{"line":1,"column":783}},{"source":"main.js","name":"drawLine","original":{"line":66,"column":6},"generated":{"line":1,"column":786}},{"source":"main.js","name":"lastPoint","original":{"line":66,"column":15},"generated":{"line":1,"column":788}},{"source":"main.js","name":"x","original":{"line":66,"column":25},"generated":{"line":1,"column":790}},{"source":"main.js","name":"lastPoint","original":{"line":66,"column":28},"generated":{"line":1,"column":792}},{"source":"main.js","name":"y","original":{"line":66,"column":38},"generated":{"line":1,"column":794}},{"source":"main.js","name":"newPoint","original":{"line":66,"column":41},"generated":{"line":1,"column":796}},{"source":"main.js","name":"x","original":{"line":66,"column":50},"generated":{"line":1,"column":798}},{"source":"main.js","name":"newPoint","original":{"line":66,"column":53},"generated":{"line":1,"column":800}},{"source":"main.js","name":"y","original":{"line":66,"column":62},"generated":{"line":1,"column":802}},{"source":"main.js","name":"lastPoint","original":{"line":67,"column":6},"generated":{"line":1,"column":805}},{"source":"main.js","name":"newPoint","original":{"line":67,"column":18},"generated":{"line":1,"column":807}},{"source":"main.js","name":"drawCircle","original":{"line":69,"column":6},"generated":{"line":1,"column":809}},{"source":"main.js","name":"x","original":{"line":69,"column":17},"generated":{"line":1,"column":811}},{"source":"main.js","name":"y","original":{"line":69,"column":20},"generated":{"line":1,"column":813}},{"source":"main.js","original":{"line":68,"column":21},"generated":{"line":1,"column":815}},{"source":"main.js","name":"canvas","original":{"line":72,"column":2},"generated":{"line":1,"column":822}},{"source":"main.js","name":"addEventListener","original":{"line":72,"column":9},"generated":{"line":1,"column":824}},{"source":"main.js","original":{"line":72,"column":26},"generated":{"line":1,"column":841}},{"source":"main.js","original":{"line":72,"column":37},"generated":{"line":1,"column":851}},{"source":"main.js","name":"e","original":{"line":72,"column":37},"generated":{"line":1,"column":860}},{"source":"main.js","name":"drawing","original":{"line":73,"column":4},"generated":{"line":1,"column":863}},{"source":"main.js","original":{"line":73,"column":14},"generated":{"line":1,"column":866}},{"source":"main.js","name":"changeButton","original":{"line":77,"column":6},"generated":{"line":1,"column":871}},{"source":"main.js","original":{"line":77,"column":21},"generated":{"line":1,"column":873}},{"source":"main.js","name":"eraser","original":{"line":78,"column":6},"generated":{"line":1,"column":884}},{"source":"main.js","name":"eraser","original":{"line":78,"column":6},"generated":{"line":1,"column":888}},{"source":"main.js","name":"e","original":{"line":78,"column":15},"generated":{"line":1,"column":890}},{"source":"main.js","original":{"line":78,"column":17},"generated":{"line":1,"column":892}},{"source":"main.js","name":"brush","original":{"line":79,"column":6},"generated":{"line":1,"column":903}},{"source":"main.js","name":"e","original":{"line":79,"column":14},"generated":{"line":1,"column":905}},{"source":"main.js","original":{"line":79,"column":16},"generated":{"line":1,"column":907}},{"source":"main.js","name":"eraser","original":{"line":80,"column":2},"generated":{"line":1,"column":917}},{"source":"main.js","name":"addEventListener","original":{"line":80,"column":9},"generated":{"line":1,"column":919}},{"source":"main.js","original":{"line":80,"column":26},"generated":{"line":1,"column":936}},{"source":"main.js","original":{"line":80,"column":35},"generated":{"line":1,"column":944}},{"source":"main.js","name":"log","original":{"line":81,"column":4},"generated":{"line":1,"column":955}},{"source":"main.js","original":{"line":81,"column":8},"generated":{"line":1,"column":957}},{"source":"main.js","name":"log","original":{"line":83,"column":4},"generated":{"line":1,"column":975}},{"source":"main.js","original":{"line":83,"column":8},"generated":{"line":1,"column":977}},{"source":"main.js","name":"eraserEnabled","original":{"line":82,"column":4},"generated":{"line":1,"column":986}},{"source":"main.js","name":"eraserEnabled","original":{"line":82,"column":21},"generated":{"line":1,"column":989}},{"source":"main.js","name":"old","original":{"line":84,"column":8},"generated":{"line":1,"column":992}},{"source":"main.js","name":"old","original":{"line":84,"column":8},"generated":{"line":1,"column":996}},{"source":"main.js","name":"e","original":{"line":84,"column":14},"generated":{"line":1,"column":998}},{"source":"main.js","original":{"line":84,"column":16},"generated":{"line":1,"column":1000}},{"source":"main.js","name":"old","original":{"line":85,"column":8},"generated":{"line":1,"column":1011}},{"source":"main.js","name":"old","original":{"line":86,"column":6},"generated":{"line":1,"column":1014}},{"source":"main.js","name":"classList","original":{"line":86,"column":10},"generated":{"line":1,"column":1016}},{"source":"main.js","name":"remove","original":{"line":86,"column":20},"generated":{"line":1,"column":1026}},{"source":"main.js","original":{"line":86,"column":27},"generated":{"line":1,"column":1033}},{"source":"main.js","name":"brush","original":{"line":88,"column":4},"generated":{"line":1,"column":1043}},{"source":"main.js","name":"classList","original":{"line":88,"column":10},"generated":{"line":1,"column":1045}},{"source":"main.js","name":"add","original":{"line":88,"column":20},"generated":{"line":1,"column":1055}},{"source":"main.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1059}},{"source":"main.js","name":"brush","original":{"line":90,"column":2},"generated":{"line":1,"column":1071}},{"source":"main.js","name":"addEventListener","original":{"line":90,"column":8},"generated":{"line":1,"column":1073}},{"source":"main.js","original":{"line":90,"column":25},"generated":{"line":1,"column":1090}},{"source":"main.js","original":{"line":90,"column":34},"generated":{"line":1,"column":1098}},{"source":"main.js","name":"eraserEnabled","original":{"line":91,"column":4},"generated":{"line":1,"column":1109}},{"source":"main.js","name":"eraserEnabled","original":{"line":91,"column":21},"generated":{"line":1,"column":1112}},{"source":"main.js","name":"old","original":{"line":92,"column":8},"generated":{"line":1,"column":1114}},{"source":"main.js","name":"old","original":{"line":92,"column":8},"generated":{"line":1,"column":1118}},{"source":"main.js","name":"e","original":{"line":92,"column":14},"generated":{"line":1,"column":1120}},{"source":"main.js","original":{"line":92,"column":16},"generated":{"line":1,"column":1122}},{"source":"main.js","name":"old","original":{"line":93,"column":8},"generated":{"line":1,"column":1133}},{"source":"main.js","name":"old","original":{"line":94,"column":6},"generated":{"line":1,"column":1136}},{"source":"main.js","name":"classList","original":{"line":94,"column":10},"generated":{"line":1,"column":1138}},{"source":"main.js","name":"remove","original":{"line":94,"column":20},"generated":{"line":1,"column":1148}},{"source":"main.js","original":{"line":94,"column":27},"generated":{"line":1,"column":1155}},{"source":"main.js","name":"eraser","original":{"line":96,"column":4},"generated":{"line":1,"column":1165}},{"source":"main.js","name":"classList","original":{"line":96,"column":11},"generated":{"line":1,"column":1167}},{"source":"main.js","name":"add","original":{"line":96,"column":21},"generated":{"line":1,"column":1177}},{"source":"main.js","original":{"line":96,"column":25},"generated":{"line":1,"column":1181}},{"source":"main.js","name":"setPencilColor","original":{"line":103,"column":6},"generated":{"line":1,"column":1194}},{"source":"main.js","original":{"line":103,"column":23},"generated":{"line":1,"column":1196}},{"source":"main.js","name":"color","original":{"line":103,"column":23},"generated":{"line":1,"column":1205}},{"source":"main.js","name":"ctx","original":{"line":104,"column":2},"generated":{"line":1,"column":1208}},{"source":"main.js","name":"strokeStyle","original":{"line":104,"column":6},"generated":{"line":1,"column":1210}},{"source":"main.js","name":"color","original":{"line":104,"column":20},"generated":{"line":1,"column":1222}},{"source":"main.js","name":"ctx","original":{"line":105,"column":2},"generated":{"line":1,"column":1224}},{"source":"main.js","name":"fillStyle","original":{"line":105,"column":6},"generated":{"line":1,"column":1226}},{"source":"main.js","name":"color","original":{"line":105,"column":18},"generated":{"line":1,"column":1236}},{"source":"main.js","name":"__main","original":{"line":108,"column":6},"generated":{"line":1,"column":1239}},{"source":"main.js","original":{"line":108,"column":15},"generated":{"line":1,"column":1241}},{"source":"main.js","name":"autoCanvasSize","original":{"line":110,"column":2},"generated":{"line":1,"column":1252}},{"source":"main.js","name":"setPencilColor","original":{"line":112,"column":2},"generated":{"line":1,"column":1256}},{"source":"main.js","original":{"line":112,"column":17},"generated":{"line":1,"column":1258}},{"source":"main.js","name":"listenToMouse","original":{"line":114,"column":2},"generated":{"line":1,"column":1265}},{"source":"main.js","name":"changeButton","original":{"line":115,"column":2},"generated":{"line":1,"column":1269}},{"source":"main.js","name":"__main","original":{"line":117,"column":0},"generated":{"line":1,"column":1274}}],"sources":{"main.js":"const log = console.log.bind(console);\n\nconst e = selector => document.querySelector(selector);\nconst canvas = e(\"#canvas\");\nconst ctx = canvas.getContext(\"2d\");\nlet eraserEnabled = false;\n\nconst setCanvasSize = () => {\n  const pageWidth = document.documentElement.clientWidth;\n  const pageHeight = document.documentElement.clientHeight;\n  canvas.width = pageWidth;\n  canvas.height = pageHeight;\n};\n\nconst autoCanvasSize = () => {\n  setCanvasSize();\n  window.addEventListener(\"resize\", () => {\n    setCanvasSize();\n  });\n};\n\nconst drawCircle = (x, y, radius) => {\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n  ctx.fill();\n};\n\nconst drawLine = (x1, y1, x2, y2) => {\n  ctx.lineWidth = 5;\n  ctx.beginPath();\n  ctx.moveTo(x1, y1);\n  ctx.lineTo(x2, y2);\n  ctx.stroke();\n  ctx.closePath();\n};\n\nconst listenToMouse = () => {\n  let drawing = false;\n  let lastPoint = {\n    x: undefined,\n    y: undefined\n  };\n  canvas.addEventListener(\"mousedown\", e => {\n    drawing = true;\n    const x = e.clientX;\n    const y = e.clientY;\n    lastPoint.x = x;\n    lastPoint.y = y;\n    const radius = 2;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"mousemove\", e => {\n    if (drawing !== true) {\n      return;\n    }\n    const x = e.clientX;\n    const y = e.clientY;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      const newPoint = { x, y };\n      drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\n      lastPoint = newPoint;\n      const radius = 2;\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"mouseup\", e => {\n    drawing = false;\n  });\n};\n\nconst changeButton = () => {\n  let eraser = e(\".eraser\");\n  let brush = e(\".brush\");\n  eraser.addEventListener(\"click\", () => {\n    log(\"eraser clicked\");\n    eraserEnabled = !eraserEnabled;\n    log(\"eraser\", eraserEnabled);\n    let old = e(\".active\");\n    if (old) {\n      old.classList.remove(\"active\");\n    }\n    brush.classList.add(\"active\");\n  });\n  brush.addEventListener(\"click\", () => {\n    eraserEnabled = !eraserEnabled;\n    let old = e(\".active\");\n    if (old) {\n      old.classList.remove(\"active\");\n    }\n    eraser.classList.add(\"active\");\n  });\n};\n// const listenToEraser = () => {};\n\n// const listenToBrush = () => {};\n\nconst setPencilColor = color => {\n  ctx.strokeStyle = color;\n  ctx.fillStyle = color;\n};\n\nconst __main = () => {\n  // 设置画布大小\n  autoCanvasSize();\n  // 设置画笔颜色 (调整 canvas 画布会清空上下文的设置，比如颜色)\n  setPencilColor(\"red\");\n  // 监听事件\n  listenToMouse();\n  changeButton();\n};\n__main();\n"},"lineCount":null}},"error":null,"hash":"333eaa027e04a221a9ac50c825eba8c7","cacheData":{"env":{}}}