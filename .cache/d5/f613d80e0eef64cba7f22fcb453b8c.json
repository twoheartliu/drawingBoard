{"id":"epB2","dependencies":[{"name":"/Users/liuzhaofeng/codes/Demos/drawingBoard/package.json","includedInParent":true,"mtime":1562143207142}],"generated":{"js":"var e=console.log.bind(console),t=function(e){return document.querySelector(e)},n=t(\"#canvas\"),c=n.getContext(\"2d\"),i=!1,o=!1,a={x:void 0,y:void 0},r=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;n.width=e,n.height=t},s=function(){r(),window.addEventListener(\"resize\",function(){r()})},d=function(e,t,n){c.beginPath(),c.arc(e,t,n,0,2*Math.PI,!1),c.fill()},u=function(e,t,n,i){c.lineWidth=5,c.beginPath(),c.moveTo(e,t),c.lineTo(n,i),c.stroke(),c.closePath()},l=function(){n.addEventListener(\"mousedown\",function(e){o=!0;var t=e.clientX,n=e.clientY;a.x=t,a.y=n;i?c.clearRect(t-5,n-5,10,10):d(t,n,2)}),n.addEventListener(\"mousemove\",function(e){if(!0===o){var t=e.clientX,n=e.clientY;if(i)c.clearRect(t-5,n-5,10,10);else{var r={x:t,y:n};u(a.x,a.y,r.x,r.y),a=r;d(t,n,2)}}}),n.addEventListener(\"mouseup\",function(e){o=!1})},v=function(){n.addEventListener(\"touchstart\",function(t){e(\"touch start\"),o=!0;var n=t.touches[0].clientX,r=t.touches[0].clientY;a.x=n,a.y=r;i?c.clearRect(n-5,r-5,10,10):d(n,r,2)}),n.addEventListener(\"touchmove\",function(e){if(!0===o){var t=e.touches[0].clientX,n=e.touches[0].clientY;if(i)c.clearRect(t-5,n-5,10,10);else{var r={x:t,y:n};u(a.x,a.y,r.x,r.y),a=r;d(t,n,2)}}}),n.addEventListener(\"touchend\",function(t){e(\"touch end\"),o=!1})},f=function(){var n=t(\".eraser\"),c=t(\".brush\");n.addEventListener(\"click\",function(){e(\"eraser clicked\"),e(\"eraser\",i=!i);var n=t(\".active\");n&&n.classList.remove(\"active\"),c.classList.add(\"active\")}),c.addEventListener(\"click\",function(){i=!i;var e=t(\".active\");e&&e.classList.remove(\"active\"),n.classList.add(\"active\")})},h=function(e){c.strokeStyle=e,c.fillStyle=e},m=function(){s(),h(\"red\"),void 0===document.body.ontouchstart?l():v(),f()};m();"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","name":"log","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"main.js","name":"console","original":{"line":1,"column":12},"generated":{"line":1,"column":6}},{"source":"main.js","name":"log","original":{"line":1,"column":20},"generated":{"line":1,"column":14}},{"source":"main.js","name":"bind","original":{"line":1,"column":24},"generated":{"line":1,"column":18}},{"source":"main.js","name":"console","original":{"line":1,"column":29},"generated":{"line":1,"column":23}},{"source":"main.js","name":"e","original":{"line":3,"column":6},"generated":{"line":1,"column":32}},{"source":"main.js","original":{"line":3,"column":10},"generated":{"line":1,"column":34}},{"source":"main.js","name":"selector","original":{"line":3,"column":10},"generated":{"line":1,"column":43}},{"source":"main.js","name":"document","original":{"line":3,"column":22},"generated":{"line":1,"column":46}},{"source":"main.js","name":"document","original":{"line":3,"column":22},"generated":{"line":1,"column":53}},{"source":"main.js","name":"querySelector","original":{"line":3,"column":31},"generated":{"line":1,"column":62}},{"source":"main.js","name":"selector","original":{"line":3,"column":45},"generated":{"line":1,"column":76}},{"source":"main.js","name":"canvas","original":{"line":4,"column":6},"generated":{"line":1,"column":80}},{"source":"main.js","name":"e","original":{"line":4,"column":15},"generated":{"line":1,"column":82}},{"source":"main.js","original":{"line":4,"column":17},"generated":{"line":1,"column":84}},{"source":"main.js","name":"ctx","original":{"line":5,"column":6},"generated":{"line":1,"column":95}},{"source":"main.js","name":"canvas","original":{"line":5,"column":12},"generated":{"line":1,"column":97}},{"source":"main.js","name":"getContext","original":{"line":5,"column":19},"generated":{"line":1,"column":99}},{"source":"main.js","original":{"line":5,"column":30},"generated":{"line":1,"column":110}},{"source":"main.js","name":"eraserEnabled","original":{"line":6,"column":4},"generated":{"line":1,"column":116}},{"source":"main.js","original":{"line":6,"column":20},"generated":{"line":1,"column":119}},{"source":"main.js","name":"drawing","original":{"line":7,"column":4},"generated":{"line":1,"column":121}},{"source":"main.js","original":{"line":7,"column":14},"generated":{"line":1,"column":124}},{"source":"main.js","name":"lastPoint","original":{"line":8,"column":4},"generated":{"line":1,"column":126}},{"source":"main.js","original":{"line":8,"column":16},"generated":{"line":1,"column":128}},{"source":"main.js","name":"x","original":{"line":9,"column":2},"generated":{"line":1,"column":129}},{"source":"main.js","name":"undefined","original":{"line":9,"column":5},"generated":{"line":1,"column":136}},{"source":"main.js","name":"y","original":{"line":10,"column":2},"generated":{"line":1,"column":138}},{"source":"main.js","name":"undefined","original":{"line":10,"column":5},"generated":{"line":1,"column":145}},{"source":"main.js","name":"setCanvasSize","original":{"line":13,"column":6},"generated":{"line":1,"column":148}},{"source":"main.js","original":{"line":13,"column":22},"generated":{"line":1,"column":150}},{"source":"main.js","name":"pageWidth","original":{"line":14,"column":8},"generated":{"line":1,"column":161}},{"source":"main.js","name":"pageWidth","original":{"line":14,"column":8},"generated":{"line":1,"column":165}},{"source":"main.js","name":"document","original":{"line":14,"column":20},"generated":{"line":1,"column":167}},{"source":"main.js","name":"documentElement","original":{"line":14,"column":29},"generated":{"line":1,"column":176}},{"source":"main.js","name":"clientWidth","original":{"line":14,"column":45},"generated":{"line":1,"column":192}},{"source":"main.js","name":"pageHeight","original":{"line":15,"column":8},"generated":{"line":1,"column":204}},{"source":"main.js","name":"document","original":{"line":15,"column":21},"generated":{"line":1,"column":206}},{"source":"main.js","name":"documentElement","original":{"line":15,"column":30},"generated":{"line":1,"column":215}},{"source":"main.js","name":"clientHeight","original":{"line":15,"column":46},"generated":{"line":1,"column":231}},{"source":"main.js","name":"canvas","original":{"line":16,"column":2},"generated":{"line":1,"column":244}},{"source":"main.js","name":"width","original":{"line":16,"column":9},"generated":{"line":1,"column":246}},{"source":"main.js","name":"pageWidth","original":{"line":16,"column":17},"generated":{"line":1,"column":252}},{"source":"main.js","name":"canvas","original":{"line":17,"column":2},"generated":{"line":1,"column":254}},{"source":"main.js","name":"height","original":{"line":17,"column":9},"generated":{"line":1,"column":256}},{"source":"main.js","name":"pageHeight","original":{"line":17,"column":18},"generated":{"line":1,"column":263}},{"source":"main.js","name":"autoCanvasSize","original":{"line":20,"column":6},"generated":{"line":1,"column":266}},{"source":"main.js","original":{"line":20,"column":23},"generated":{"line":1,"column":268}},{"source":"main.js","name":"setCanvasSize","original":{"line":21,"column":2},"generated":{"line":1,"column":279}},{"source":"main.js","name":"window","original":{"line":22,"column":2},"generated":{"line":1,"column":283}},{"source":"main.js","name":"addEventListener","original":{"line":22,"column":9},"generated":{"line":1,"column":290}},{"source":"main.js","original":{"line":22,"column":26},"generated":{"line":1,"column":307}},{"source":"main.js","original":{"line":22,"column":36},"generated":{"line":1,"column":316}},{"source":"main.js","name":"setCanvasSize","original":{"line":23,"column":4},"generated":{"line":1,"column":327}},{"source":"main.js","name":"drawCircle","original":{"line":27,"column":6},"generated":{"line":1,"column":334}},{"source":"main.js","original":{"line":27,"column":19},"generated":{"line":1,"column":336}},{"source":"main.js","name":"x","original":{"line":27,"column":20},"generated":{"line":1,"column":345}},{"source":"main.js","name":"y","original":{"line":27,"column":23},"generated":{"line":1,"column":347}},{"source":"main.js","name":"radius","original":{"line":27,"column":26},"generated":{"line":1,"column":349}},{"source":"main.js","name":"ctx","original":{"line":28,"column":2},"generated":{"line":1,"column":352}},{"source":"main.js","name":"beginPath","original":{"line":28,"column":6},"generated":{"line":1,"column":354}},{"source":"main.js","name":"ctx","original":{"line":29,"column":2},"generated":{"line":1,"column":366}},{"source":"main.js","name":"arc","original":{"line":29,"column":6},"generated":{"line":1,"column":368}},{"source":"main.js","name":"x","original":{"line":29,"column":10},"generated":{"line":1,"column":372}},{"source":"main.js","name":"y","original":{"line":29,"column":13},"generated":{"line":1,"column":374}},{"source":"main.js","name":"radius","original":{"line":29,"column":16},"generated":{"line":1,"column":376}},{"source":"main.js","original":{"line":29,"column":24},"generated":{"line":1,"column":378}},{"source":"main.js","original":{"line":29,"column":37},"generated":{"line":1,"column":380}},{"source":"main.js","name":"Math","original":{"line":29,"column":27},"generated":{"line":1,"column":382}},{"source":"main.js","name":"PI","original":{"line":29,"column":32},"generated":{"line":1,"column":387}},{"source":"main.js","original":{"line":29,"column":40},"generated":{"line":1,"column":391}},{"source":"main.js","name":"ctx","original":{"line":30,"column":2},"generated":{"line":1,"column":394}},{"source":"main.js","name":"fill","original":{"line":30,"column":6},"generated":{"line":1,"column":396}},{"source":"main.js","name":"drawLine","original":{"line":33,"column":6},"generated":{"line":1,"column":404}},{"source":"main.js","original":{"line":33,"column":17},"generated":{"line":1,"column":406}},{"source":"main.js","name":"x1","original":{"line":33,"column":18},"generated":{"line":1,"column":415}},{"source":"main.js","name":"y1","original":{"line":33,"column":22},"generated":{"line":1,"column":417}},{"source":"main.js","name":"x2","original":{"line":33,"column":26},"generated":{"line":1,"column":419}},{"source":"main.js","name":"y2","original":{"line":33,"column":30},"generated":{"line":1,"column":421}},{"source":"main.js","name":"ctx","original":{"line":34,"column":2},"generated":{"line":1,"column":424}},{"source":"main.js","name":"lineWidth","original":{"line":34,"column":6},"generated":{"line":1,"column":426}},{"source":"main.js","original":{"line":34,"column":18},"generated":{"line":1,"column":436}},{"source":"main.js","name":"ctx","original":{"line":35,"column":2},"generated":{"line":1,"column":438}},{"source":"main.js","name":"beginPath","original":{"line":35,"column":6},"generated":{"line":1,"column":440}},{"source":"main.js","name":"ctx","original":{"line":36,"column":2},"generated":{"line":1,"column":452}},{"source":"main.js","name":"moveTo","original":{"line":36,"column":6},"generated":{"line":1,"column":454}},{"source":"main.js","name":"x1","original":{"line":36,"column":13},"generated":{"line":1,"column":461}},{"source":"main.js","name":"y1","original":{"line":36,"column":17},"generated":{"line":1,"column":463}},{"source":"main.js","name":"ctx","original":{"line":37,"column":2},"generated":{"line":1,"column":466}},{"source":"main.js","name":"lineTo","original":{"line":37,"column":6},"generated":{"line":1,"column":468}},{"source":"main.js","name":"x2","original":{"line":37,"column":13},"generated":{"line":1,"column":475}},{"source":"main.js","name":"y2","original":{"line":37,"column":17},"generated":{"line":1,"column":477}},{"source":"main.js","name":"ctx","original":{"line":38,"column":2},"generated":{"line":1,"column":480}},{"source":"main.js","name":"stroke","original":{"line":38,"column":6},"generated":{"line":1,"column":482}},{"source":"main.js","name":"ctx","original":{"line":39,"column":2},"generated":{"line":1,"column":491}},{"source":"main.js","name":"closePath","original":{"line":39,"column":6},"generated":{"line":1,"column":493}},{"source":"main.js","name":"listenToMouse","original":{"line":42,"column":6},"generated":{"line":1,"column":506}},{"source":"main.js","original":{"line":42,"column":22},"generated":{"line":1,"column":508}},{"source":"main.js","name":"canvas","original":{"line":43,"column":2},"generated":{"line":1,"column":519}},{"source":"main.js","name":"addEventListener","original":{"line":43,"column":9},"generated":{"line":1,"column":521}},{"source":"main.js","original":{"line":43,"column":26},"generated":{"line":1,"column":538}},{"source":"main.js","original":{"line":43,"column":39},"generated":{"line":1,"column":550}},{"source":"main.js","name":"e","original":{"line":43,"column":39},"generated":{"line":1,"column":559}},{"source":"main.js","name":"drawing","original":{"line":44,"column":4},"generated":{"line":1,"column":562}},{"source":"main.js","original":{"line":44,"column":14},"generated":{"line":1,"column":565}},{"source":"main.js","name":"x","original":{"line":45,"column":10},"generated":{"line":1,"column":567}},{"source":"main.js","name":"x","original":{"line":45,"column":10},"generated":{"line":1,"column":571}},{"source":"main.js","name":"e","original":{"line":45,"column":14},"generated":{"line":1,"column":573}},{"source":"main.js","name":"clientX","original":{"line":45,"column":16},"generated":{"line":1,"column":575}},{"source":"main.js","name":"y","original":{"line":46,"column":10},"generated":{"line":1,"column":583}},{"source":"main.js","name":"e","original":{"line":46,"column":14},"generated":{"line":1,"column":585}},{"source":"main.js","name":"clientY","original":{"line":46,"column":16},"generated":{"line":1,"column":587}},{"source":"main.js","name":"lastPoint","original":{"line":47,"column":4},"generated":{"line":1,"column":595}},{"source":"main.js","name":"x","original":{"line":47,"column":14},"generated":{"line":1,"column":597}},{"source":"main.js","name":"x","original":{"line":47,"column":18},"generated":{"line":1,"column":599}},{"source":"main.js","name":"lastPoint","original":{"line":48,"column":4},"generated":{"line":1,"column":601}},{"source":"main.js","name":"y","original":{"line":48,"column":14},"generated":{"line":1,"column":603}},{"source":"main.js","name":"y","original":{"line":48,"column":18},"generated":{"line":1,"column":605}},{"source":"main.js","name":"eraserEnabled","original":{"line":50,"column":8},"generated":{"line":1,"column":607}},{"source":"main.js","name":"ctx","original":{"line":51,"column":6},"generated":{"line":1,"column":609}},{"source":"main.js","name":"clearRect","original":{"line":51,"column":10},"generated":{"line":1,"column":611}},{"source":"main.js","name":"x","original":{"line":51,"column":20},"generated":{"line":1,"column":621}},{"source":"main.js","original":{"line":51,"column":24},"generated":{"line":1,"column":623}},{"source":"main.js","name":"y","original":{"line":51,"column":27},"generated":{"line":1,"column":625}},{"source":"main.js","original":{"line":51,"column":31},"generated":{"line":1,"column":627}},{"source":"main.js","original":{"line":51,"column":34},"generated":{"line":1,"column":629}},{"source":"main.js","original":{"line":51,"column":38},"generated":{"line":1,"column":632}},{"source":"main.js","name":"drawCircle","original":{"line":53,"column":6},"generated":{"line":1,"column":636}},{"source":"main.js","name":"x","original":{"line":53,"column":17},"generated":{"line":1,"column":638}},{"source":"main.js","name":"y","original":{"line":53,"column":20},"generated":{"line":1,"column":640}},{"source":"main.js","original":{"line":49,"column":19},"generated":{"line":1,"column":642}},{"source":"main.js","name":"canvas","original":{"line":56,"column":2},"generated":{"line":1,"column":647}},{"source":"main.js","name":"addEventListener","original":{"line":56,"column":9},"generated":{"line":1,"column":649}},{"source":"main.js","original":{"line":56,"column":26},"generated":{"line":1,"column":666}},{"source":"main.js","original":{"line":56,"column":39},"generated":{"line":1,"column":678}},{"source":"main.js","name":"e","original":{"line":56,"column":39},"generated":{"line":1,"column":687}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":690}},{"source":"main.js","original":{"line":57,"column":20},"generated":{"line":1,"column":694}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":698}},{"source":"main.js","name":"drawing","original":{"line":57,"column":8},"generated":{"line":1,"column":700}},{"source":"main.js","name":"x","original":{"line":60,"column":10},"generated":{"line":1,"column":701}},{"source":"main.js","name":"x","original":{"line":60,"column":10},"generated":{"line":1,"column":705}},{"source":"main.js","name":"e","original":{"line":60,"column":14},"generated":{"line":1,"column":707}},{"source":"main.js","name":"clientX","original":{"line":60,"column":16},"generated":{"line":1,"column":709}},{"source":"main.js","name":"y","original":{"line":61,"column":10},"generated":{"line":1,"column":717}},{"source":"main.js","name":"e","original":{"line":61,"column":14},"generated":{"line":1,"column":719}},{"source":"main.js","name":"clientY","original":{"line":61,"column":16},"generated":{"line":1,"column":721}},{"source":"main.js","name":"eraserEnabled","original":{"line":62,"column":8},"generated":{"line":1,"column":729}},{"source":"main.js","name":"eraserEnabled","original":{"line":62,"column":8},"generated":{"line":1,"column":732}},{"source":"main.js","name":"ctx","original":{"line":63,"column":6},"generated":{"line":1,"column":734}},{"source":"main.js","name":"clearRect","original":{"line":63,"column":10},"generated":{"line":1,"column":736}},{"source":"main.js","name":"x","original":{"line":63,"column":20},"generated":{"line":1,"column":746}},{"source":"main.js","original":{"line":63,"column":24},"generated":{"line":1,"column":748}},{"source":"main.js","name":"y","original":{"line":63,"column":27},"generated":{"line":1,"column":750}},{"source":"main.js","original":{"line":63,"column":31},"generated":{"line":1,"column":752}},{"source":"main.js","original":{"line":63,"column":34},"generated":{"line":1,"column":754}},{"source":"main.js","original":{"line":63,"column":38},"generated":{"line":1,"column":757}},{"source":"main.js","original":{"line":64,"column":11},"generated":{"line":1,"column":765}},{"source":"main.js","name":"newPoint","original":{"line":65,"column":12},"generated":{"line":1,"column":766}},{"source":"main.js","name":"newPoint","original":{"line":65,"column":12},"generated":{"line":1,"column":770}},{"source":"main.js","original":{"line":65,"column":23},"generated":{"line":1,"column":772}},{"source":"main.js","name":"x","original":{"line":65,"column":25},"generated":{"line":1,"column":773}},{"source":"main.js","name":"x","original":{"line":65,"column":25},"generated":{"line":1,"column":775}},{"source":"main.js","name":"y","original":{"line":65,"column":28},"generated":{"line":1,"column":777}},{"source":"main.js","name":"y","original":{"line":65,"column":28},"generated":{"line":1,"column":779}},{"source":"main.js","name":"drawLine","original":{"line":66,"column":6},"generated":{"line":1,"column":782}},{"source":"main.js","name":"lastPoint","original":{"line":66,"column":15},"generated":{"line":1,"column":784}},{"source":"main.js","name":"x","original":{"line":66,"column":25},"generated":{"line":1,"column":786}},{"source":"main.js","name":"lastPoint","original":{"line":66,"column":28},"generated":{"line":1,"column":788}},{"source":"main.js","name":"y","original":{"line":66,"column":38},"generated":{"line":1,"column":790}},{"source":"main.js","name":"newPoint","original":{"line":66,"column":41},"generated":{"line":1,"column":792}},{"source":"main.js","name":"x","original":{"line":66,"column":50},"generated":{"line":1,"column":794}},{"source":"main.js","name":"newPoint","original":{"line":66,"column":53},"generated":{"line":1,"column":796}},{"source":"main.js","name":"y","original":{"line":66,"column":62},"generated":{"line":1,"column":798}},{"source":"main.js","name":"lastPoint","original":{"line":67,"column":6},"generated":{"line":1,"column":801}},{"source":"main.js","name":"newPoint","original":{"line":67,"column":18},"generated":{"line":1,"column":803}},{"source":"main.js","name":"drawCircle","original":{"line":69,"column":6},"generated":{"line":1,"column":805}},{"source":"main.js","name":"x","original":{"line":69,"column":17},"generated":{"line":1,"column":807}},{"source":"main.js","name":"y","original":{"line":69,"column":20},"generated":{"line":1,"column":809}},{"source":"main.js","original":{"line":68,"column":21},"generated":{"line":1,"column":811}},{"source":"main.js","name":"canvas","original":{"line":72,"column":2},"generated":{"line":1,"column":818}},{"source":"main.js","name":"addEventListener","original":{"line":72,"column":9},"generated":{"line":1,"column":820}},{"source":"main.js","original":{"line":72,"column":26},"generated":{"line":1,"column":837}},{"source":"main.js","original":{"line":72,"column":37},"generated":{"line":1,"column":847}},{"source":"main.js","name":"e","original":{"line":72,"column":37},"generated":{"line":1,"column":856}},{"source":"main.js","name":"drawing","original":{"line":73,"column":4},"generated":{"line":1,"column":859}},{"source":"main.js","original":{"line":73,"column":14},"generated":{"line":1,"column":862}},{"source":"main.js","name":"listenToTouch","original":{"line":77,"column":6},"generated":{"line":1,"column":867}},{"source":"main.js","original":{"line":77,"column":22},"generated":{"line":1,"column":869}},{"source":"main.js","name":"canvas","original":{"line":78,"column":2},"generated":{"line":1,"column":880}},{"source":"main.js","name":"addEventListener","original":{"line":78,"column":9},"generated":{"line":1,"column":882}},{"source":"main.js","original":{"line":78,"column":26},"generated":{"line":1,"column":899}},{"source":"main.js","original":{"line":78,"column":40},"generated":{"line":1,"column":912}},{"source":"main.js","name":"e","original":{"line":78,"column":40},"generated":{"line":1,"column":921}},{"source":"main.js","name":"log","original":{"line":79,"column":4},"generated":{"line":1,"column":924}},{"source":"main.js","original":{"line":79,"column":8},"generated":{"line":1,"column":926}},{"source":"main.js","name":"drawing","original":{"line":80,"column":4},"generated":{"line":1,"column":941}},{"source":"main.js","original":{"line":80,"column":14},"generated":{"line":1,"column":944}},{"source":"main.js","name":"x","original":{"line":81,"column":10},"generated":{"line":1,"column":946}},{"source":"main.js","name":"x","original":{"line":81,"column":10},"generated":{"line":1,"column":950}},{"source":"main.js","name":"e","original":{"line":81,"column":14},"generated":{"line":1,"column":952}},{"source":"main.js","name":"touches","original":{"line":81,"column":16},"generated":{"line":1,"column":954}},{"source":"main.js","original":{"line":81,"column":24},"generated":{"line":1,"column":962}},{"source":"main.js","name":"clientX","original":{"line":81,"column":27},"generated":{"line":1,"column":965}},{"source":"main.js","name":"y","original":{"line":82,"column":10},"generated":{"line":1,"column":973}},{"source":"main.js","name":"e","original":{"line":82,"column":14},"generated":{"line":1,"column":975}},{"source":"main.js","name":"touches","original":{"line":82,"column":16},"generated":{"line":1,"column":977}},{"source":"main.js","original":{"line":82,"column":24},"generated":{"line":1,"column":985}},{"source":"main.js","name":"clientY","original":{"line":82,"column":27},"generated":{"line":1,"column":988}},{"source":"main.js","name":"lastPoint","original":{"line":83,"column":4},"generated":{"line":1,"column":996}},{"source":"main.js","name":"x","original":{"line":83,"column":14},"generated":{"line":1,"column":998}},{"source":"main.js","name":"x","original":{"line":83,"column":18},"generated":{"line":1,"column":1000}},{"source":"main.js","name":"lastPoint","original":{"line":84,"column":4},"generated":{"line":1,"column":1002}},{"source":"main.js","name":"y","original":{"line":84,"column":14},"generated":{"line":1,"column":1004}},{"source":"main.js","name":"y","original":{"line":84,"column":18},"generated":{"line":1,"column":1006}},{"source":"main.js","name":"eraserEnabled","original":{"line":86,"column":8},"generated":{"line":1,"column":1008}},{"source":"main.js","name":"ctx","original":{"line":87,"column":6},"generated":{"line":1,"column":1010}},{"source":"main.js","name":"clearRect","original":{"line":87,"column":10},"generated":{"line":1,"column":1012}},{"source":"main.js","name":"x","original":{"line":87,"column":20},"generated":{"line":1,"column":1022}},{"source":"main.js","original":{"line":87,"column":24},"generated":{"line":1,"column":1024}},{"source":"main.js","name":"y","original":{"line":87,"column":27},"generated":{"line":1,"column":1026}},{"source":"main.js","original":{"line":87,"column":31},"generated":{"line":1,"column":1028}},{"source":"main.js","original":{"line":87,"column":34},"generated":{"line":1,"column":1030}},{"source":"main.js","original":{"line":87,"column":38},"generated":{"line":1,"column":1033}},{"source":"main.js","name":"drawCircle","original":{"line":89,"column":6},"generated":{"line":1,"column":1037}},{"source":"main.js","name":"x","original":{"line":89,"column":17},"generated":{"line":1,"column":1039}},{"source":"main.js","name":"y","original":{"line":89,"column":20},"generated":{"line":1,"column":1041}},{"source":"main.js","original":{"line":85,"column":19},"generated":{"line":1,"column":1043}},{"source":"main.js","name":"canvas","original":{"line":92,"column":2},"generated":{"line":1,"column":1048}},{"source":"main.js","name":"addEventListener","original":{"line":92,"column":9},"generated":{"line":1,"column":1050}},{"source":"main.js","original":{"line":92,"column":26},"generated":{"line":1,"column":1067}},{"source":"main.js","original":{"line":92,"column":39},"generated":{"line":1,"column":1079}},{"source":"main.js","name":"e","original":{"line":92,"column":39},"generated":{"line":1,"column":1088}},{"source":"main.js","name":"drawing","original":{"line":93,"column":8},"generated":{"line":1,"column":1091}},{"source":"main.js","original":{"line":93,"column":20},"generated":{"line":1,"column":1095}},{"source":"main.js","name":"drawing","original":{"line":93,"column":8},"generated":{"line":1,"column":1099}},{"source":"main.js","name":"drawing","original":{"line":93,"column":8},"generated":{"line":1,"column":1101}},{"source":"main.js","name":"x","original":{"line":96,"column":10},"generated":{"line":1,"column":1102}},{"source":"main.js","name":"x","original":{"line":96,"column":10},"generated":{"line":1,"column":1106}},{"source":"main.js","name":"e","original":{"line":96,"column":14},"generated":{"line":1,"column":1108}},{"source":"main.js","name":"touches","original":{"line":96,"column":16},"generated":{"line":1,"column":1110}},{"source":"main.js","original":{"line":96,"column":24},"generated":{"line":1,"column":1118}},{"source":"main.js","name":"clientX","original":{"line":96,"column":27},"generated":{"line":1,"column":1121}},{"source":"main.js","name":"y","original":{"line":97,"column":10},"generated":{"line":1,"column":1129}},{"source":"main.js","name":"e","original":{"line":97,"column":14},"generated":{"line":1,"column":1131}},{"source":"main.js","name":"touches","original":{"line":97,"column":16},"generated":{"line":1,"column":1133}},{"source":"main.js","original":{"line":97,"column":24},"generated":{"line":1,"column":1141}},{"source":"main.js","name":"clientY","original":{"line":97,"column":27},"generated":{"line":1,"column":1144}},{"source":"main.js","name":"eraserEnabled","original":{"line":98,"column":8},"generated":{"line":1,"column":1152}},{"source":"main.js","name":"eraserEnabled","original":{"line":98,"column":8},"generated":{"line":1,"column":1155}},{"source":"main.js","name":"ctx","original":{"line":99,"column":6},"generated":{"line":1,"column":1157}},{"source":"main.js","name":"clearRect","original":{"line":99,"column":10},"generated":{"line":1,"column":1159}},{"source":"main.js","name":"x","original":{"line":99,"column":20},"generated":{"line":1,"column":1169}},{"source":"main.js","original":{"line":99,"column":24},"generated":{"line":1,"column":1171}},{"source":"main.js","name":"y","original":{"line":99,"column":27},"generated":{"line":1,"column":1173}},{"source":"main.js","original":{"line":99,"column":31},"generated":{"line":1,"column":1175}},{"source":"main.js","original":{"line":99,"column":34},"generated":{"line":1,"column":1177}},{"source":"main.js","original":{"line":99,"column":38},"generated":{"line":1,"column":1180}},{"source":"main.js","original":{"line":100,"column":11},"generated":{"line":1,"column":1188}},{"source":"main.js","name":"newPoint","original":{"line":101,"column":12},"generated":{"line":1,"column":1189}},{"source":"main.js","name":"newPoint","original":{"line":101,"column":12},"generated":{"line":1,"column":1193}},{"source":"main.js","original":{"line":101,"column":23},"generated":{"line":1,"column":1195}},{"source":"main.js","name":"x","original":{"line":101,"column":25},"generated":{"line":1,"column":1196}},{"source":"main.js","name":"x","original":{"line":101,"column":25},"generated":{"line":1,"column":1198}},{"source":"main.js","name":"y","original":{"line":101,"column":28},"generated":{"line":1,"column":1200}},{"source":"main.js","name":"y","original":{"line":101,"column":28},"generated":{"line":1,"column":1202}},{"source":"main.js","name":"drawLine","original":{"line":102,"column":6},"generated":{"line":1,"column":1205}},{"source":"main.js","name":"lastPoint","original":{"line":102,"column":15},"generated":{"line":1,"column":1207}},{"source":"main.js","name":"x","original":{"line":102,"column":25},"generated":{"line":1,"column":1209}},{"source":"main.js","name":"lastPoint","original":{"line":102,"column":28},"generated":{"line":1,"column":1211}},{"source":"main.js","name":"y","original":{"line":102,"column":38},"generated":{"line":1,"column":1213}},{"source":"main.js","name":"newPoint","original":{"line":102,"column":41},"generated":{"line":1,"column":1215}},{"source":"main.js","name":"x","original":{"line":102,"column":50},"generated":{"line":1,"column":1217}},{"source":"main.js","name":"newPoint","original":{"line":102,"column":53},"generated":{"line":1,"column":1219}},{"source":"main.js","name":"y","original":{"line":102,"column":62},"generated":{"line":1,"column":1221}},{"source":"main.js","name":"lastPoint","original":{"line":103,"column":6},"generated":{"line":1,"column":1224}},{"source":"main.js","name":"newPoint","original":{"line":103,"column":18},"generated":{"line":1,"column":1226}},{"source":"main.js","name":"drawCircle","original":{"line":105,"column":6},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"x","original":{"line":105,"column":17},"generated":{"line":1,"column":1230}},{"source":"main.js","name":"y","original":{"line":105,"column":20},"generated":{"line":1,"column":1232}},{"source":"main.js","original":{"line":104,"column":21},"generated":{"line":1,"column":1234}},{"source":"main.js","name":"canvas","original":{"line":108,"column":2},"generated":{"line":1,"column":1241}},{"source":"main.js","name":"addEventListener","original":{"line":108,"column":9},"generated":{"line":1,"column":1243}},{"source":"main.js","original":{"line":108,"column":26},"generated":{"line":1,"column":1260}},{"source":"main.js","original":{"line":108,"column":38},"generated":{"line":1,"column":1271}},{"source":"main.js","name":"e","original":{"line":108,"column":38},"generated":{"line":1,"column":1280}},{"source":"main.js","name":"log","original":{"line":109,"column":4},"generated":{"line":1,"column":1283}},{"source":"main.js","original":{"line":109,"column":8},"generated":{"line":1,"column":1285}},{"source":"main.js","name":"drawing","original":{"line":110,"column":4},"generated":{"line":1,"column":1298}},{"source":"main.js","original":{"line":110,"column":14},"generated":{"line":1,"column":1301}},{"source":"main.js","name":"changeButton","original":{"line":114,"column":6},"generated":{"line":1,"column":1306}},{"source":"main.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1308}},{"source":"main.js","name":"eraser","original":{"line":115,"column":6},"generated":{"line":1,"column":1319}},{"source":"main.js","name":"eraser","original":{"line":115,"column":6},"generated":{"line":1,"column":1323}},{"source":"main.js","name":"e","original":{"line":115,"column":15},"generated":{"line":1,"column":1325}},{"source":"main.js","original":{"line":115,"column":17},"generated":{"line":1,"column":1327}},{"source":"main.js","name":"brush","original":{"line":116,"column":6},"generated":{"line":1,"column":1338}},{"source":"main.js","name":"e","original":{"line":116,"column":14},"generated":{"line":1,"column":1340}},{"source":"main.js","original":{"line":116,"column":16},"generated":{"line":1,"column":1342}},{"source":"main.js","name":"eraser","original":{"line":117,"column":2},"generated":{"line":1,"column":1352}},{"source":"main.js","name":"addEventListener","original":{"line":117,"column":9},"generated":{"line":1,"column":1354}},{"source":"main.js","original":{"line":117,"column":26},"generated":{"line":1,"column":1371}},{"source":"main.js","original":{"line":117,"column":35},"generated":{"line":1,"column":1379}},{"source":"main.js","name":"log","original":{"line":118,"column":4},"generated":{"line":1,"column":1390}},{"source":"main.js","original":{"line":118,"column":8},"generated":{"line":1,"column":1392}},{"source":"main.js","name":"log","original":{"line":120,"column":4},"generated":{"line":1,"column":1410}},{"source":"main.js","original":{"line":120,"column":8},"generated":{"line":1,"column":1412}},{"source":"main.js","name":"eraserEnabled","original":{"line":119,"column":4},"generated":{"line":1,"column":1421}},{"source":"main.js","name":"eraserEnabled","original":{"line":119,"column":21},"generated":{"line":1,"column":1424}},{"source":"main.js","name":"old","original":{"line":121,"column":8},"generated":{"line":1,"column":1427}},{"source":"main.js","name":"old","original":{"line":121,"column":8},"generated":{"line":1,"column":1431}},{"source":"main.js","name":"e","original":{"line":121,"column":14},"generated":{"line":1,"column":1433}},{"source":"main.js","original":{"line":121,"column":16},"generated":{"line":1,"column":1435}},{"source":"main.js","name":"old","original":{"line":122,"column":8},"generated":{"line":1,"column":1446}},{"source":"main.js","name":"old","original":{"line":123,"column":6},"generated":{"line":1,"column":1449}},{"source":"main.js","name":"classList","original":{"line":123,"column":10},"generated":{"line":1,"column":1451}},{"source":"main.js","name":"remove","original":{"line":123,"column":20},"generated":{"line":1,"column":1461}},{"source":"main.js","original":{"line":123,"column":27},"generated":{"line":1,"column":1468}},{"source":"main.js","name":"brush","original":{"line":125,"column":4},"generated":{"line":1,"column":1478}},{"source":"main.js","name":"classList","original":{"line":125,"column":10},"generated":{"line":1,"column":1480}},{"source":"main.js","name":"add","original":{"line":125,"column":20},"generated":{"line":1,"column":1490}},{"source":"main.js","original":{"line":125,"column":24},"generated":{"line":1,"column":1494}},{"source":"main.js","name":"brush","original":{"line":127,"column":2},"generated":{"line":1,"column":1506}},{"source":"main.js","name":"addEventListener","original":{"line":127,"column":8},"generated":{"line":1,"column":1508}},{"source":"main.js","original":{"line":127,"column":25},"generated":{"line":1,"column":1525}},{"source":"main.js","original":{"line":127,"column":34},"generated":{"line":1,"column":1533}},{"source":"main.js","name":"eraserEnabled","original":{"line":128,"column":4},"generated":{"line":1,"column":1544}},{"source":"main.js","name":"eraserEnabled","original":{"line":128,"column":21},"generated":{"line":1,"column":1547}},{"source":"main.js","name":"old","original":{"line":129,"column":8},"generated":{"line":1,"column":1549}},{"source":"main.js","name":"old","original":{"line":129,"column":8},"generated":{"line":1,"column":1553}},{"source":"main.js","name":"e","original":{"line":129,"column":14},"generated":{"line":1,"column":1555}},{"source":"main.js","original":{"line":129,"column":16},"generated":{"line":1,"column":1557}},{"source":"main.js","name":"old","original":{"line":130,"column":8},"generated":{"line":1,"column":1568}},{"source":"main.js","name":"old","original":{"line":131,"column":6},"generated":{"line":1,"column":1571}},{"source":"main.js","name":"classList","original":{"line":131,"column":10},"generated":{"line":1,"column":1573}},{"source":"main.js","name":"remove","original":{"line":131,"column":20},"generated":{"line":1,"column":1583}},{"source":"main.js","original":{"line":131,"column":27},"generated":{"line":1,"column":1590}},{"source":"main.js","name":"eraser","original":{"line":133,"column":4},"generated":{"line":1,"column":1600}},{"source":"main.js","name":"classList","original":{"line":133,"column":11},"generated":{"line":1,"column":1602}},{"source":"main.js","name":"add","original":{"line":133,"column":21},"generated":{"line":1,"column":1612}},{"source":"main.js","original":{"line":133,"column":25},"generated":{"line":1,"column":1616}},{"source":"main.js","name":"setPencilColor","original":{"line":140,"column":6},"generated":{"line":1,"column":1629}},{"source":"main.js","original":{"line":140,"column":23},"generated":{"line":1,"column":1631}},{"source":"main.js","name":"color","original":{"line":140,"column":23},"generated":{"line":1,"column":1640}},{"source":"main.js","name":"ctx","original":{"line":141,"column":2},"generated":{"line":1,"column":1643}},{"source":"main.js","name":"strokeStyle","original":{"line":141,"column":6},"generated":{"line":1,"column":1645}},{"source":"main.js","name":"color","original":{"line":141,"column":20},"generated":{"line":1,"column":1657}},{"source":"main.js","name":"ctx","original":{"line":142,"column":2},"generated":{"line":1,"column":1659}},{"source":"main.js","name":"fillStyle","original":{"line":142,"column":6},"generated":{"line":1,"column":1661}},{"source":"main.js","name":"color","original":{"line":142,"column":18},"generated":{"line":1,"column":1671}},{"source":"main.js","name":"__main","original":{"line":145,"column":6},"generated":{"line":1,"column":1674}},{"source":"main.js","original":{"line":145,"column":15},"generated":{"line":1,"column":1676}},{"source":"main.js","name":"autoCanvasSize","original":{"line":147,"column":2},"generated":{"line":1,"column":1687}},{"source":"main.js","name":"setPencilColor","original":{"line":149,"column":2},"generated":{"line":1,"column":1691}},{"source":"main.js","original":{"line":149,"column":17},"generated":{"line":1,"column":1693}},{"source":"main.js","name":"undefined","original":{"line":151,"column":37},"generated":{"line":1,"column":1705}},{"source":"main.js","name":"document","original":{"line":151,"column":6},"generated":{"line":1,"column":1709}},{"source":"main.js","name":"body","original":{"line":151,"column":15},"generated":{"line":1,"column":1718}},{"source":"main.js","name":"ontouchstart","original":{"line":151,"column":20},"generated":{"line":1,"column":1723}},{"source":"main.js","name":"listenToMouse","original":{"line":152,"column":4},"generated":{"line":1,"column":1736}},{"source":"main.js","name":"listenToTouch","original":{"line":154,"column":4},"generated":{"line":1,"column":1740}},{"source":"main.js","name":"changeButton","original":{"line":157,"column":2},"generated":{"line":1,"column":1744}},{"source":"main.js","name":"__main","original":{"line":159,"column":0},"generated":{"line":1,"column":1749}}],"sources":{"main.js":"const log = console.log.bind(console);\n\nconst e = selector => document.querySelector(selector);\nconst canvas = e(\"#canvas\");\nconst ctx = canvas.getContext(\"2d\");\nlet eraserEnabled = false;\nlet drawing = false;\nlet lastPoint = {\n  x: undefined,\n  y: undefined\n};\n\nconst setCanvasSize = () => {\n  const pageWidth = document.documentElement.clientWidth;\n  const pageHeight = document.documentElement.clientHeight;\n  canvas.width = pageWidth;\n  canvas.height = pageHeight;\n};\n\nconst autoCanvasSize = () => {\n  setCanvasSize();\n  window.addEventListener(\"resize\", () => {\n    setCanvasSize();\n  });\n};\n\nconst drawCircle = (x, y, radius) => {\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n  ctx.fill();\n};\n\nconst drawLine = (x1, y1, x2, y2) => {\n  ctx.lineWidth = 5;\n  ctx.beginPath();\n  ctx.moveTo(x1, y1);\n  ctx.lineTo(x2, y2);\n  ctx.stroke();\n  ctx.closePath();\n};\n\nconst listenToMouse = () => {\n  canvas.addEventListener(\"mousedown\", e => {\n    drawing = true;\n    const x = e.clientX;\n    const y = e.clientY;\n    lastPoint.x = x;\n    lastPoint.y = y;\n    const radius = 2;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"mousemove\", e => {\n    if (drawing !== true) {\n      return;\n    }\n    const x = e.clientX;\n    const y = e.clientY;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      const newPoint = { x, y };\n      drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\n      lastPoint = newPoint;\n      const radius = 2;\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"mouseup\", e => {\n    drawing = false;\n  });\n};\n\nconst listenToTouch = () => {\n  canvas.addEventListener(\"touchstart\", e => {\n    log(\"touch start\");\n    drawing = true;\n    const x = e.touches[0].clientX;\n    const y = e.touches[0].clientY;\n    lastPoint.x = x;\n    lastPoint.y = y;\n    const radius = 2;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"touchmove\", e => {\n    if (drawing !== true) {\n      return;\n    }\n    const x = e.touches[0].clientX;\n    const y = e.touches[0].clientY;\n    if (eraserEnabled) {\n      ctx.clearRect(x - 5, y - 5, 10, 10);\n    } else {\n      const newPoint = { x, y };\n      drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\n      lastPoint = newPoint;\n      const radius = 2;\n      drawCircle(x, y, radius);\n    }\n  });\n  canvas.addEventListener(\"touchend\", e => {\n    log(\"touch end\");\n    drawing = false;\n  });\n};\n\nconst changeButton = () => {\n  let eraser = e(\".eraser\");\n  let brush = e(\".brush\");\n  eraser.addEventListener(\"click\", () => {\n    log(\"eraser clicked\");\n    eraserEnabled = !eraserEnabled;\n    log(\"eraser\", eraserEnabled);\n    let old = e(\".active\");\n    if (old) {\n      old.classList.remove(\"active\");\n    }\n    brush.classList.add(\"active\");\n  });\n  brush.addEventListener(\"click\", () => {\n    eraserEnabled = !eraserEnabled;\n    let old = e(\".active\");\n    if (old) {\n      old.classList.remove(\"active\");\n    }\n    eraser.classList.add(\"active\");\n  });\n};\n// const listenToEraser = () => {};\n\n// const listenToBrush = () => {};\n\nconst setPencilColor = color => {\n  ctx.strokeStyle = color;\n  ctx.fillStyle = color;\n};\n\nconst __main = () => {\n  // 设置画布大小\n  autoCanvasSize();\n  // 设置画笔颜色 (调整 canvas 画布会清空上下文的设置，比如颜色)\n  setPencilColor(\"red\");\n  // 监听事件\n  if (document.body.ontouchstart === undefined) {\n    listenToMouse();\n  } else {\n    listenToTouch();\n  }\n\n  changeButton();\n};\n__main();\n"},"lineCount":null}},"error":null,"hash":"74d4d5b6765abee04703f99975753790","cacheData":{"env":{}}}